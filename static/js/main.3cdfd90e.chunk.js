(this["webpackJsonpgoogle-map-hook"]=this["webpackJsonpgoogle-map-hook"]||[]).push([[0],{170:function(e,t,a){},194:function(e,t,a){},400:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),o=a.n(l),c=(a(169),a(170),function(e){return r.a.createElement("div",{className:"wrapper"},e.children)}),i=a(35),s=a.n(i),u=a(34),m=a(64),p=a(2),g=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header__title"},"Restaurant Finder"))},d=function(e){return r.a.createElement("div",{className:"content"},e.children)},h=function(){var e=new Date;return r.a.createElement("div",{className:"date-time"},"".concat(e.toLocaleDateString()," - ").concat(e.toLocaleTimeString()))},b=a(33),E=a.n(b),f=Object(n.createContext)(),v=function(){var e=Object(n.useContext)(f),t=e.minRating,a=e.resetMinRating;return r.a.createElement("div",{className:"filter-rating"},r.a.createElement("span",{className:"rating-text"},"Min Rating:"),r.a.createElement(E.a,{rating:t,starRatedColor:"rgb(220,20,60)",starEmptyColor:"rgb(203, 211, 227)",changeRating:function(e){a(e)},numberOfStars:5,name:"rating",starDimension:"30px"}))},O=function(){var e=Object(n.useContext)(f).error;return r.a.createElement("div",{className:"error"},e)},y=a(65),R=a.n(y),j=a(412),_=(a(194),function(){var e=Object(n.useContext)(f),t=e.restaurants,a=e.setAddRestFlag,l=e.setRestaurants,o=e.tempCoords,c=Object(n.useState)(""),i=Object(p.a)(c,2),s=i[0],m=i[1],g=Object(n.useState)(0),d=Object(p.a)(g,2),h=d[0],b=d[1],E=[];Object(n.useEffect)((function(){console.log("AddRest"),a(!0)}),[]);return r.a.createElement("div",{className:"addrest"},r.a.createElement("h1",null,"Add Restaurant "),r.a.createElement("form",{onSubmit:function(e){return function(e,n,r){e.preventDefault(),E={name:n,geometry:{location:{lat:o.geometry.location.lat,lng:o.geometry.location.lng}},place_id:null,rating:r,icon:"https://maps.gstatic.com/mapfiles/place_api/icons/lodging-71.png"},l([].concat(Object(u.a)(t),[E])),a(!1)}(e,s,h)}},r.a.createElement("input",{type:"text",value:s,onChange:function(e){return m(e.target.value)},placeholder:"name"}),r.a.createElement(j.a,{name:"simple-controlled",value:h,onChange:function(e,t){null!=t&&b(parseInt(t))}}),r.a.createElement("button",null,"submit")))}),C=a(24),A=function(){var e=Object(n.useContext)(f),t=e.location,a=e.restaurants,l=e.setAddRestFlag,o=e.minRating,c=e.setTempCoords,i=e.addRestFlag,s=Object(n.useState)(),u=Object(p.a)(s,2),m=(u[0],u[1],Object(n.useState)(null)),g=Object(p.a)(m,2),d=g[0],h=g[1],b=[],E=r.a.useCallback((function(e){l(!i),b={geometry:{location:{lat:e.latLng.lat(),lng:e.latLng.lng()}}},c(b)}));return r.a.createElement(C.GoogleMap,{defaultZoom:14,defaultCenter:{lat:t.lat,lng:t.lon},onClick:E},a.map((function(e){return e.rating<o||!e.rating?null:r.a.createElement("div",null,r.a.createElement(C.Marker,{key:e.name,position:{lat:e.geometry.location.lat,lng:e.geometry.location.lng},onClick:function(){h(e)}}),d?r.a.createElement(C.InfoWindow,{position:{lat:d.geometry.location.lat,lng:d.geometry.location.lng}},r.a.createElement("span",null,d.name," has ",d.rating," star rating.")):null)})))},w=Object(C.withScriptjs)(Object(C.withGoogleMap)(A)),S=function(){return r.a.createElement("div",{className:"map"},r.a.createElement(w,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAlELmqkRobpn26ReMLLTirp7GHsaW8vy0",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"80vh"}}),mapElement:r.a.createElement("div",{style:{height:"80%"}})}))},k=a(91),x=function(e){var t=e.photo,a=e.name,n=e.rating,l=e.text;return r.a.createElement("div",{className:"popupClass card"},r.a.createElement("div",null,r.a.createElement("img",{src:t,alt:"Reviewer",style:{height:"100px"}})),r.a.createElement("div",{className:"ReviewNameRating"},r.a.createElement("div",null,r.a.createElement("h1",null,a)),r.a.createElement("div",null,r.a.createElement("h3",null,l)),r.a.createElement("div",null," ",r.a.createElement(E.a,{rating:n,starRatedColor:"rgb(220,20,60)",starDimension:"30px"}),"                ")))},N=function(e){var t=e.name,a=(e.imageSource,e.rating),l=e.placeid,o=Object(n.useState)([]),c=Object(p.a)(o,2),i=c[0],g=c[1],d=Object(n.useState)(""),h=Object(p.a)(d,2),b=h[0],f=h[1],v=Object(n.useState)(""),O=Object(p.a)(v,2),y=O[0],_=O[1],C=Object(n.useState)(0),A=Object(p.a)(C,2),w=A[0],S=A[1],N=Object(n.useState)(""),M=Object(p.a)(N,2),I=M[0],L=M[1],J=[],G=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==l){e.next=10;break}return t="https://maps.googleapis.com/maps/api/place/details/json?place_id=".concat(l,"&key=AIzaSyAlELmqkRobpn26ReMLLTirp7GHsaW8vy0"),e.next=4,R.a.get(t).catch((function(e){console.log("erre",e)}));case 4:a=e.sent,(n=a)&&n.status,n&&null!=n.data.result.photos&&(L(n.data.result.photos[0].photo_reference),g(n.data.result.reviews)),e.next=11;break;case 10:g([]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){G()}),[]);return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/place/photo?photoreference=".concat(I,"&sensor=false&maxheight=500&maxwidth=500&key=AIzaSyAlELmqkRobpn26ReMLLTirp7GHsaW8vy0"),alt:"restaurant ",className:"restaurant-image"}),r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"restaurant-title"},t),r.a.createElement(E.a,{rating:a,starRatedColor:"rgb(220,20,60)",starDimension:"30px"}),r.a.createElement("h2",null,r.a.createElement(k.a,{trigger:r.a.createElement("button",{className:"button",onClick:G}," ","review"," "),modal:!0},(function(e){return r.a.createElement("div",{className:"reviewarea"},r.a.createElement("a",{className:"close",onClick:e},"\xd7"),r.a.createElement("div",{className:"header"}," ",t,r.a.createElement(k.a,{trigger:r.a.createElement("button",{className:"button"}," Add Review ")},r.a.createElement("form",{style:{width:"auto"},onSubmit:function(e){return function(e,t,a,n,r,l){e.preventDefault(),""!==t&&""!==l&&0!==n&&(J={author_name:t,rating:parseInt(n),text:l,profile_photo_url:"https://maps.gstatic.com/mapfiles/place_api/icons/lodging-71.png"},a(""),_(""),r(""),g([].concat(Object(u.a)(i),[J])))}(e,b,f,w,S,y)}},"Name:",r.a.createElement("input",{type:"text",value:b,onChange:function(e){return f(e.target.value)}}),r.a.createElement("br",null),"Comment:",r.a.createElement("input",{type:"text",value:y,onChange:function(e){return _(e.target.value)}}),r.a.createElement("br",null),"Rating:",r.a.createElement(j.a,{name:"simple-controlled",value:w,onChange:function(e,t){null!=t&&S(parseInt(t))}}),r.a.createElement("br",null),r.a.createElement("button",null,"submit")))),r.a.createElement("div",null,i.map((function(e){return r.a.createElement("div",null,r.a.createElement(x,{photo:e.profile_photo_url,name:e.author_name,rating:e.rating,text:e.text}))}))))})))))},M=a(160),I=a.n(M),L=function(){var e=Object(n.useContext)(f),t=e.restaurants,a=e.minRating;return r.a.createElement("div",{className:"sidebar"},t.map((function(e){return e.rating<a||!e.rating?null:r.a.createElement(N,{key:I.a.generate(),name:e.name,imageSource:e.photos,rating:e.rating,placeid:e.place_id})})))},J=a(92),G=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(),c=Object(p.a)(o,2),i=c[0],b=c[1],E=Object(n.useState)(),y=Object(p.a)(E,2),j=y[0],C=y[1],A=Object(n.useState)(1),w=Object(p.a)(A,2),k=w[0],x=w[1],N=Object(n.useState)(),M=Object(p.a)(N,2),I=M[0],G=M[1],T=Object(n.useState)([]),z=Object(p.a)(T,2),D=z[0],P=z[1],F=Object(n.useState)(!1),Y=Object(p.a)(F,2),Z=Y[0],W=Y[1],K=function(){var e=Object(m.a)(s.a.mark((function e(t,n){var r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=".concat(t,",").concat(n,"&radius=1500&type=restaurant&key=AIzaSyAlELmqkRobpn26ReMLLTirp7GHsaW8vy0"),e.next=3,R.a.get(r).catch((function(e){console.log("erre",e)}));case 3:o=e.sent,(c=o)&&200!==c.status&&C("Error fetching information"),c&&(console.log("sss",J),l.apply(void 0,Object(u.a)(a).concat([c.data.results])));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){b({lat:e.coords.latitude,lon:e.coords.longitude}),K(e.coords.latitude,e.coords.longitude)})),l(J),i&&K()}),[]),r.a.createElement("div",{className:"main"},r.a.createElement(g,null),r.a.createElement(d,null,r.a.createElement(h,null),r.a.createElement(f.Provider,{value:{error:j,location:i,restaurants:a,resetMinRating:function(e){x(e)},minRating:k,setRestaurants:l,addRestFlag:I,setAddRestFlag:G,addReviewFlag:Z,setAddReviewFlag:W,tempCoords:D,setTempCoords:P}},I&&r.a.createElement(_,null),i&&r.a.createElement(v,null),j&&r.a.createElement(O,null),i&&r.a.createElement(S,null),i&&r.a.createElement(L,null))))},T=function(){return r.a.createElement(c,null,r.a.createElement(G,null))};o.a.render(r.a.createElement(T,null),document.getElementById("root"))},92:function(e){e.exports=JSON.parse('[{"business_status":"OPERATIONAL","geometry":{"location":{"lat":23.3310549,"lng":75.042852},"viewport":{"northeast":{"lat":23.33237083029151,"lng":75.04424688029151},"southwest":{"lat":23.3296728697085,"lng":75.04154891970849}}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png","name":"Top N Town","opening_hours":{"open_now":true},"photos":[{"height":4640,"html_attributions":["<a href=\\"https://maps.google.com/maps/contrib/103015437761707799064\\">Chetan Kothari</a>"],"photo_reference":"CmRaAAAAZMkHI9oqUtYIKXZ7x_L-e03Ru5MMgayCLt5MAWbyiKB6ZaKzK4Z0lTeq7HbMy55YU50LZbzfzW3yacIw1Vdd8mDyXpV8PxkMQJVzI8qA11hIDaEbCRl_AGOh47JZNeMUEhCJhyZIVo9CiktdlDhrF0siGhRuQ56MauP2hOuUR7EriBHTbfOVZQ","width":3480}],"place_id":"ChIJX4pSuKP-YzkRJPa4d9Yp_ZY","plus_code":{"compound_code":"82JV+C4 Ratlam, Madhya Pradesh, India","global_code":"7JMQ82JV+C4"},"rating":4,"reference":"ChIJX4pSuKP-YzkRJPa4d9Yp_ZY","scope":"GOOGLE","types":["bakery","grocery_or_supermarket","restaurant","food","point_of_interest","store","establishment"],"user_ratings_total":153,"vicinity":"135, opp. Anand Furniture Mall, New Road, Shastri Nagar, Ratlam"},{"business_status":"OPERATIONAL","geometry":{"location":{"lat":23.3303541,"lng":75.036953},"viewport":{"northeast":{"lat":23.3316874302915,"lng":75.03815323029151},"southwest":{"lat":23.3289894697085,"lng":75.03545526970849}}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png","name":"Domino\'s Pizza","opening_hours":{"open_now":true},"photos":[{"height":3000,"html_attributions":["<a href=\\"https://maps.google.com/maps/contrib/112261654152398415921\\">Civilian Singh</a>"],"photo_reference":"CmRaAAAAFwT2nerxooJh-JOZ1XI6ocDurxlImqEQi_65Ys4A3DtICto5X7llCiKalW5UY16OQX6KGyunpWLfvfBgR0ZACRXWIeDt1XyMAhzaAQOSoPCO--31d_n80z5nh7Cx59TUEhCBrTvrFD365ZYnlsCBsYD0GhSBMWxmUrsIp2l-a1jAnU0bVEo_hQ","width":4000}],"place_id":"ChIJr6wygJj-YzkRKCAhW6M7Na0","plus_code":{"compound_code":"82JP+4Q Ratlam, Madhya Pradesh, India","global_code":"7JMQ82JP+4Q"},"price_level":2,"rating":3.9,"reference":"ChIJr6wygJj-YzkRKCAhW6M7Na0","scope":"GOOGLE","types":["meal_delivery","meal_takeaway","restaurant","food","point_of_interest","establishment"],"user_ratings_total":877,"vicinity":"Front part of Ground Floor, 685/1, 1/1, Gayatri Cinema, Subash Marg, Gayatri Talkies Road, Ratlam"}]')}},[[400,1,2]]]);
//# sourceMappingURL=main.3cdfd90e.chunk.js.map